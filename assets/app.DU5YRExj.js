import{q as y,u as _,a3 as A,x as w,_ as P,y as T,c as S,n as b,o as R,S as f,a4 as x,a5 as D,a6 as L,a7 as M,a8 as I,a9 as k,aa as O,ab as $,ac as q,ad as B,d as U,v as V,ae as j,af as F,ag as H,ah as z}from"./chunks/framework.Baju3tsf.js";import{au as u,av as N}from"./chunks/theme.DJkiZKW8.js";const G=async a=>{try{u.registerExternalDiagrams&&await u.registerExternalDiagrams(a)}catch(e){console.error(e)}},W=async(a,e,t)=>{u.initialize(t);const{svg:s}=await u.render(a,e);return s},J=["innerHTML"],K={__name:"Mermaid",props:{graph:{type:String,required:!0},id:{type:String,required:!0},class:{type:String,required:!1,default:"mermaid"}},setup(a){const e=y({securityLevel:"loose",startOnLoad:!1,externalDiagrams:[]}),{page:t}=_(),{frontmatter:s}=A(t.value),g=s.mermaidTheme||"",i=a,h=y(null);let p=null;w(async()=>{var l;await G(e.value.externalDiagrams);let n=await P(()=>import("./chunks/virtual_mermaid-config.C134SEum.js"),[]);n!=null&&n.default&&(e.value=n.default),p=new MutationObserver(async()=>await m()),p.observe(document.documentElement,{attributes:!0}),await m(),((l=/<img([\w\W]+?)>/.exec(decodeURIComponent(i.graph)))==null?void 0:l.length)>0&&setTimeout(()=>{let d=document.getElementsByTagName("img"),v=Array.from(d);v.length&&Promise.all(v.filter(c=>!c.complete).map(c=>new Promise(E=>{c.onload=c.onerror=E}))).then(async()=>{await m()})},100)}),T(()=>p.disconnect());const m=async()=>{const n=document.documentElement.classList.contains("dark");let o={...e.value};g&&(o.theme=g),n&&(o.theme="dark");let l=await W(i.id,decodeURIComponent(i.graph),o);const d=Math.random().toString(36).substring(7);h.value=`${l} <span style="display: none">${d}</span>`};return(n,o)=>(R(),S("div",{innerHTML:h.value,class:b(i.class)},null,10,J))}};function C(a){if(a.extends){const e=C(a.extends);return{...e,...a,async enhanceApp(t){e.enhanceApp&&await e.enhanceApp(t),a.enhanceApp&&await a.enhanceApp(t)}}}return a}const r=C(N),Q=U({name:"VitePressApp",setup(){const{site:a,lang:e,dir:t}=_();return w(()=>{V(()=>{document.documentElement.lang=e.value,document.documentElement.dir=t.value})}),a.value.router.prefetchLinks&&j(),F(),H(),r.setup&&r.setup(),()=>z(r.Layout)}});async function X(){globalThis.__VITEPRESS__=!0;const a=Z(),e=Y();e.provide(D,a);const t=L(a.route);return e.provide(M,t),e.component("Mermaid",K),e.component("Content",I),e.component("ClientOnly",k),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get(){return t.frontmatter.value}},$params:{get(){return t.page.value.params}}}),r.enhanceApp&&await r.enhanceApp({app:e,router:a,siteData:O}),{app:e,router:a,data:t}}function Y(){return B(Q)}function Z(){let a=f;return $(e=>{let t=q(e),s=null;return t&&(a&&(t=t.replace(/\.js$/,".lean.js")),s=import(t)),f&&(a=!1),s},r.NotFound)}f&&X().then(({app:a,router:e,data:t})=>{e.go(location.href,{initialLoad:!0}).then(()=>{x(e.route,t.site),a.mount("#app")})});export{X as createApp};
